import{registerComponent as t,createElementReactStyle as e,css as n,LeafComponent as r}from"@leaf-web/core";import{CSSMapping as o,transformCSSKey as i,lightTheme as a,generateFullSpec as c,blend as s,addAlpha as l,interactionStates as u,normailzeInteractionState as f}from"@waterial/base";import p from"@waterial/icon";import d from"@waterial/ripple";import{Label as h}from"@waterial/typography";function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m(t,e,n){return e&&b(t.prototype,e),n&&b(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e)}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function w(t,e){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},w(t,e)}function x(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function O(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y(t);if(e){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}function j(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var k,L=function(){var t=globalThis.waterialTheme||a;return{background:t.surface[2],minWidth:"112px",maxWidth:"280px",borderRadius:"4px",paddingTop:"8px",paddingBottom:"8px",width:"fit-content",elevation:t.elevation[2]}},P=function(t){v(c,r);var a=O(c);function c(){var t;return g(this,c),(t=a.call(this)).specs=L(),window.addEventListener("waterial-theme-change",(function(){t.specs=L(),t.rerender()})),t}return m(c,[{key:"render",value:function(){return e("div",{className:"menu ".concat(this.props.show?"":"hide")},e("slot",null))}},{key:"css",value:function(){return n(k||(k=j(["",".hide{display:none}"])),function(t){var e="";for(var n in t)t[n]&&(e+=n in o?"".concat(o[n],": ").concat(t[n],";"):"".concat(i(n),": ").concat(t[n],";"));return".menu{".concat(e,"}")}(this.specs))}}]),c}();P.watchedProps=["no-icon","show"],t("waterial-menu",P);var C,I=function(){var t=globalThis.waterialTheme||a,e=c({background:"rgba(0, 0, 0, 0)",padding:"none",fontSize:"1rem",height:"auto",border:"none",outline:"none",maxWidth:"280px",minWidth:"112px",width:"fit-content",textAlign:"left",stateLayer:"rgba(0, 0, 0, 0)",position:"relative",transition:"all 200ms",overflow:"hidden",display:"block",textColor:"auto",leadingIconColor:"auto",leadingIconMargin:"auto",trailingIconColor:"auto",trailingIconMargin:"auto",trailingIconFloat:"right",iconPaddingLeft:"none",fullWidth:"auto"},{background:t.surface[2],height:"48px",padding:"0 12px 0 12px",textColor:t.colors.onSurface,leadingIconColor:t.colors.onSurfaceVariant,leadingIconMargin:"0 12px 0 0",trailingIconColor:t.colors.onSurfaceVariant,trailingIconMargin:"0 0 0 30px",iconPaddingLeft:"36px",width:"100%"});return{enabled:e,hover:c(e,{background:t.surface[2],stateLayer:t.colors.onSurface}),active:c(e,{background:t.surface[2],stateLayer:t.colors.onSurface}),focus:c(e,{background:t.surface[2],stateLayer:t.colors.onSurface})}},W=function(t){v(c,r);var a=O(c);function c(){var t;return g(this,c),(t=a.call(this)).specs=I(),window.addEventListener("waterial-theme-change",(function(){t.specs=I(),t.rerender()})),t}return m(c,[{key:"render",value:function(){var t=this,n=!this.parentElement.hasAttribute("no-icon");return e("button",{onClick:function(e){t.props.disabled||(d(e,l(t.specs.active.stateLayer,u.press)),t.fireEvent(e))},className:"menu-item ".concat(n&&!this.props.icon?"menu-item-icon":""," ").concat(this.props["trailing-icon"]?"menu-item-full":""),disabled:this.props.disabled},e(p,{class:"leading-icon",size:"24px","with-text":!0,top:"-3px"},this.props.icon),e(h,{size:"large",class:this.props["trailing-icon"]?"trailing-margin":"",inline:!0},e("slot",null)),e(h,{size:"large",class:"trailing-icon",inline:!0},this.props["trailing-text"]),e(p,{class:"trailing-icon",size:"24px","with-text":!0,top:"-3px"},this.props["trailing-icon"]))}},{key:"css",value:function(){var t=this;return n(C||(C=j(["",""])),Object.keys(this.specs).map((function(e){return function(t,e){"active"===e&&(e="press");var n="",r="",a="",c="",p="";for(var d in t)if(t[d])if("stateLayer"!==d)if(d.startsWith("leadingIcon")){var h=d.slice(11).charAt(0).toLowerCase()+d.slice(12);r+="".concat(i(h),": ").concat(t[d]," !important;")}else if(d.startsWith("trailingIcon")){var g=d.slice(12).charAt(0).toLowerCase()+d.slice(13);a+="".concat(i(g),": ").concat(t[d]," !important;")}else if(d.startsWith("icon")){var b=d.slice(4).charAt(0).toLowerCase()+d.slice(5);c+="".concat(i(b),": ").concat(t[d]," !important;")}else if(d.startsWith("full")){var m=d.slice(4).charAt(0).toLowerCase()+d.slice(5);p+="".concat(i(m),": ").concat(t[d]," !important;")}else n+=d in o?"".concat(o[d],": ").concat(t[d],";"):"".concat(i(d),": ").concat(t[d],";");else n+="background: ".concat(s(t.background,l(t[d],u[e])),";");return"hover"===e&&(n+="cursor: pointer;"),"disabled"===e&&(n+="cursor: not-allowed;"),"enabled"!==e?".menu-item:".concat(f(e),"{").concat(n,"}"):"\n    .menu-item:".concat(f(e),"{").concat(n,"}\n    .leading-icon{").concat(r,"}\n    .trailing-icon{").concat(a,"}\n    .menu-item-icon{").concat(c,"}\n    .menu-item-full{").concat(p,"}\n  ")}(t.specs[e],e)})).join(""))}}]),c}();W.watchedProps=["type","disabled","icon","trailing-icon","trailing-text","submenu"],t("waterial-menu-item",W);export{P as Menu,W as MenuItem};
